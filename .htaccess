RewriteEngine On

# Proxy API requests to Node.js
RewriteCond %{REQUEST_URI} ^/api/
RewriteRule ^(.*)$ http://127.0.0.1:3000/$1 [P,L]

# Proxy Socket.io
RewriteCond %{REQUEST_URI} ^/socket.io/
RewriteRule ^(.*)$ http://127.0.0.1:3000/$1 [P,L]

# Allow static files
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d